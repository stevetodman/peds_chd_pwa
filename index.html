<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#ffffff" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="Peds CHD PWA">
  <link rel="apple-touch-icon" href="assets/icons/icon-192.png" sizes="180x180">
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="icon" href="assets/icons/icon-192.png" type="image/png"/>
  <title>Peds CHD Lecture Hub • Offline PWA</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <img src="assets/icons/icon-192.png" alt="" class="logo" width="28" height="28">
      <span>Peds CHD PWA</span>
    </div>
    <nav class="tabs" role="tablist">
      <a href="#/home" role="tab" aria-controls="home" id="tab-home">Home</a>
      <a href="#/lecture" role="tab" aria-controls="lecture" id="tab-lecture">Lecture</a>
      <a href="#/qbank" role="tab" aria-controls="qbank" id="tab-qbank">QBank</a>
      <a href="#/cxr" role="tab" aria-controls="cxr" id="tab-cxr">CXR Game</a>
      <a href="#/ekg" role="tab" aria-controls="ekg" id="tab-ekg">EKG Reader</a>
    </nav>
  </header>

  <main id="app" class="view" role="tabpanel" aria-live="polite"></main>

  <footer class="foot">
    <small>
      Offline-first • No external CDNs •
      <span id="swStatus">Service worker: …</span>
      • <span id="buildInfo">Build: pending…</span>
    </small>
  </footer>

  <script>
    window.__BUILD_STAMP__ = '2025-10-19T23:12:37.935853Z';
    window.__COMMIT__ = '15e054f';
    const applyBuildStamp = () => {
      const el = document.getElementById('buildInfo');
      if (!el) return;
      const stamp = window.__BUILD_STAMP__ || new Date().toISOString();
      const commit = window.__COMMIT__ ? String(window.__COMMIT__).slice(0, 7) : '';
      const details = commit ? `${stamp} • ${commit}` : stamp;
      el.textContent = `Build: ${details}`;
    };
    if (document.readyState !== 'loading') applyBuildStamp();
    else document.addEventListener('DOMContentLoaded', applyBuildStamp);
  </script>

  <script type="module" src="js/app.js"></script>
</body>
</html>
